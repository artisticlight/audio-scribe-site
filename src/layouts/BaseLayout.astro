---
import '../styles/global.css';
import { SITE } from '../config';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import MotionEffects from '../components/MotionEffects.astro';

interface Props {
  title?: string;
  description?: string;
  /** Hide the default header (e.g. for custom hero headers) */
  hideHeader?: boolean;
  /** Hide the default footer */
  hideFooter?: boolean;
}

const {
  title = SITE.appName,
  description = `${SITE.appName} â€” Professional voice transcription for Mac, iPad, and iPhone.`,
  hideHeader = false,
  hideFooter = false,
} = Astro.props;

const pageTitle = title === SITE.appName ? title : `${title} | ${SITE.appName}`;
---

<!doctype html>
<html lang={Astro.currentLocale ?? 'en'}>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content={description} />
    <meta name="theme-color" content="#BFAB9A" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href={`${import.meta.env.BASE_URL}favicon-32.png`}
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href={`${import.meta.env.BASE_URL}favicon-16.png`}
    />
    <link rel="apple-touch-icon" href={`${import.meta.env.BASE_URL}apple-touch-icon.png`} />
    <title>{pageTitle}</title>
  </head>
  <body>
    {!hideHeader && <Header />}
    <main>
      <slot />
    </main>
    {!hideFooter && <Footer />}
    <MotionEffects />
  </body>
</html>
